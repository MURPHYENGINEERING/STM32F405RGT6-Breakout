EESchema Schematic File Version 4
EELAYER 30 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 1 1
Title ""
Date ""
Rev ""
Comp ""
Comment1 ""
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
$Comp
L Regulator_Linear:AMS1117-3.3 U2
U 1 1 6192F648
P 3800 1350
F 0 "U2" H 3800 1592 50  0000 C CNN
F 1 "AMS1117-3.3" H 3800 1501 50  0000 C CNN
F 2 "Package_TO_SOT_SMD:SOT-223-3_TabPin2" H 3800 1550 50  0001 C CNN
F 3 "http://www.advanced-monolithic.com/pdf/ds1117.pdf" H 3900 1100 50  0001 C CNN
	1    3800 1350
	1    0    0    -1  
$EndComp
$Comp
L Device:R R1
U 1 1 61945077
P 1600 1900
F 0 "R1" H 1670 1946 50  0000 L CNN
F 1 "100" H 1670 1855 50  0000 L CNN
F 2 "" V 1530 1900 50  0001 C CNN
F 3 "~" H 1600 1900 50  0001 C CNN
	1    1600 1900
	1    0    0    -1  
$EndComp
Wire Wire Line
	2000 1650 2000 1600
Wire Wire Line
	2000 1400 2000 1350
$Comp
L power:GND #PWR04
U 1 1 6194D181
P 1600 2050
F 0 "#PWR04" H 1600 1800 50  0001 C CNN
F 1 "GND" H 1605 1877 50  0000 C CNN
F 2 "" H 1600 2050 50  0001 C CNN
F 3 "" H 1600 2050 50  0001 C CNN
	1    1600 2050
	1    0    0    -1  
$EndComp
Text Notes 1750 2200 0    50   ~ 0
Throttle current through\nthe zener if polarity is reversed\n
Text Notes 1900 1850 0    50   ~ 0
Bleed off gate voltage \nif it rises to Vgs
$Comp
L power:GND #PWR011
U 1 1 6194DC8B
P 3800 1800
F 0 "#PWR011" H 3800 1550 50  0001 C CNN
F 1 "GND" H 3805 1627 50  0000 C CNN
F 2 "" H 3800 1800 50  0001 C CNN
F 3 "" H 3800 1800 50  0001 C CNN
	1    3800 1800
	1    0    0    -1  
$EndComp
$Comp
L Device:C_Small C17
U 1 1 6195E545
P 4200 1550
F 0 "C17" H 4292 1596 50  0000 L CNN
F 1 "10u" H 4292 1505 50  0000 L CNN
F 2 "" H 4200 1550 50  0001 C CNN
F 3 "~" H 4200 1550 50  0001 C CNN
	1    4200 1550
	1    0    0    -1  
$EndComp
Wire Wire Line
	4200 1750 4200 1650
Connection ~ 3800 1750
Wire Wire Line
	3800 1750 4200 1750
Wire Wire Line
	3800 1750 3800 1800
$Comp
L power:+3V3 #PWR015
U 1 1 61961ED5
P 4400 1100
F 0 "#PWR015" H 4400 950 50  0001 C CNN
F 1 "+3V3" H 4375 1250 50  0000 C CNN
F 2 "" H 4400 1100 50  0001 C CNN
F 3 "" H 4400 1100 50  0001 C CNN
	1    4400 1100
	1    0    0    -1  
$EndComp
Connection ~ 4200 1350
Wire Wire Line
	4200 1350 4100 1350
Text Notes 3050 1850 0    50   ~ 0
Caps for stability\n
Text Notes 2800 1000 0    50   ~ 0
High frequency \nnoise filter\n
Connection ~ 2000 1350
Connection ~ 1600 1650
Text Notes 2050 1100 0    50   ~ 0
Fuse\n(does this go \nbefore or \nafter pch?)
Text Notes 3650 1000 0    50   ~ 0
3.3V LDO
Wire Wire Line
	3800 1650 3800 1750
Wire Wire Line
	4200 1350 4200 1450
Wire Notes Line
	650  750  650  2350
Wire Notes Line
	650  750  5050 750 
$Comp
L power:+3V3 #PWR014
U 1 1 6197E4D1
P 4350 5500
F 0 "#PWR014" H 4350 5350 50  0001 C CNN
F 1 "+3V3" H 4365 5673 50  0000 C CNN
F 2 "" H 4350 5500 50  0001 C CNN
F 3 "" H 4350 5500 50  0001 C CNN
	1    4350 5500
	1    0    0    -1  
$EndComp
$Comp
L Device:Ferrite_Bead_Small FB2
U 1 1 6197F29F
P 4700 5600
F 0 "FB2" V 4463 5600 50  0000 C CNN
F 1 "     100 @ 100 MHz" V 4554 5600 50  0000 C CNN
F 2 "" V 4630 5600 50  0001 C CNN
F 3 "~" H 4700 5600 50  0001 C CNN
	1    4700 5600
	0    1    1    0   
$EndComp
$Comp
L Device:C_Small C14
U 1 1 6197FBF2
P 4950 5800
F 0 "C14" H 5042 5846 50  0000 L CNN
F 1 "100n" H 5042 5755 50  0000 L CNN
F 2 "" H 4950 5800 50  0001 C CNN
F 3 "~" H 4950 5800 50  0001 C CNN
	1    4950 5800
	1    0    0    -1  
$EndComp
$Comp
L Device:C_Small C15
U 1 1 61980239
P 5350 5800
F 0 "C15" H 5442 5846 50  0000 L CNN
F 1 "10n" H 5442 5755 50  0000 L CNN
F 2 "" H 5350 5800 50  0001 C CNN
F 3 "~" H 5350 5800 50  0001 C CNN
	1    5350 5800
	1    0    0    -1  
$EndComp
Wire Wire Line
	5350 5700 5350 5600
Wire Wire Line
	5350 5600 4950 5600
Wire Wire Line
	4950 5700 4950 5600
Connection ~ 4950 5600
Wire Wire Line
	4950 5600 4800 5600
Wire Wire Line
	4350 5500 4350 5600
Wire Wire Line
	4350 5600 4600 5600
$Comp
L power:+3.3VA #PWR022
U 1 1 61985D6F
P 5350 5500
F 0 "#PWR022" H 5350 5350 50  0001 C CNN
F 1 "+3.3VA" H 5365 5673 50  0000 C CNN
F 2 "" H 5350 5500 50  0001 C CNN
F 3 "" H 5350 5500 50  0001 C CNN
	1    5350 5500
	1    0    0    -1  
$EndComp
Connection ~ 5350 5600
$Comp
L power:GND #PWR019
U 1 1 6198711A
P 4950 5900
F 0 "#PWR019" H 4950 5650 50  0001 C CNN
F 1 "GND" H 4955 5727 50  0000 C CNN
F 2 "" H 4950 5900 50  0001 C CNN
F 3 "" H 4950 5900 50  0001 C CNN
	1    4950 5900
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR023
U 1 1 61987910
P 5350 5900
F 0 "#PWR023" H 5350 5650 50  0001 C CNN
F 1 "GND" H 5355 5727 50  0000 C CNN
F 2 "" H 5350 5900 50  0001 C CNN
F 3 "" H 5350 5900 50  0001 C CNN
	1    5350 5900
	1    0    0    -1  
$EndComp
Wire Notes Line
	5650 5200 5650 6200
Wire Notes Line
	5650 6200 4200 6200
Wire Notes Line
	4200 6200 4200 5200
Wire Notes Line
	4200 5200 5650 5200
$Comp
L Device:C_Small C2
U 1 1 61993F93
P 1250 2850
F 0 "C2" H 1342 2896 50  0000 L CNN
F 1 "100u" H 1342 2805 50  0000 L CNN
F 2 "" H 1250 2850 50  0001 C CNN
F 3 "~" H 1250 2850 50  0001 C CNN
	1    1250 2850
	1    0    0    -1  
$EndComp
$Comp
L Device:C_Small C3
U 1 1 619949FD
P 1600 2850
F 0 "C3" H 1692 2896 50  0000 L CNN
F 1 "100u" H 1692 2805 50  0000 L CNN
F 2 "" H 1600 2850 50  0001 C CNN
F 3 "~" H 1600 2850 50  0001 C CNN
	1    1600 2850
	1    0    0    -1  
$EndComp
$Comp
L Device:C_Small C4
U 1 1 61997F60
P 1950 2850
F 0 "C4" H 2042 2896 50  0000 L CNN
F 1 "100u" H 2042 2805 50  0000 L CNN
F 2 "" H 1950 2850 50  0001 C CNN
F 3 "~" H 1950 2850 50  0001 C CNN
	1    1950 2850
	1    0    0    -1  
$EndComp
$Comp
L Device:C_Small C5
U 1 1 61997F6A
P 2300 2850
F 0 "C5" H 2392 2896 50  0000 L CNN
F 1 "100u" H 2392 2805 50  0000 L CNN
F 2 "" H 2300 2850 50  0001 C CNN
F 3 "~" H 2300 2850 50  0001 C CNN
	1    2300 2850
	1    0    0    -1  
$EndComp
$Comp
L Device:C_Small C6
U 1 1 61999902
P 2650 2850
F 0 "C6" H 2742 2896 50  0000 L CNN
F 1 "100u" H 2742 2805 50  0000 L CNN
F 2 "" H 2650 2850 50  0001 C CNN
F 3 "~" H 2650 2850 50  0001 C CNN
	1    2650 2850
	1    0    0    -1  
$EndComp
$Comp
L Device:C_Small C7
U 1 1 6199991A
P 3000 2850
F 0 "C7" H 3092 2896 50  0000 L CNN
F 1 "100u" H 3092 2805 50  0000 L CNN
F 2 "" H 3000 2850 50  0001 C CNN
F 3 "~" H 3000 2850 50  0001 C CNN
	1    3000 2850
	1    0    0    -1  
$EndComp
$Comp
L Device:C_Small C8
U 1 1 61999924
P 3350 2850
F 0 "C8" H 3442 2896 50  0000 L CNN
F 1 "100u" H 3442 2805 50  0000 L CNN
F 2 "" H 3350 2850 50  0001 C CNN
F 3 "~" H 3350 2850 50  0001 C CNN
	1    3350 2850
	1    0    0    -1  
$EndComp
$Comp
L Device:C_Small C1
U 1 1 6199992E
P 900 2850
F 0 "C1" H 992 2896 50  0000 L CNN
F 1 "100u" H 992 2805 50  0000 L CNN
F 2 "" H 900 2850 50  0001 C CNN
F 3 "~" H 900 2850 50  0001 C CNN
	1    900  2850
	1    0    0    -1  
$EndComp
$Comp
L Device:C_Small C9
U 1 1 619A1B2F
P 3700 2850
F 0 "C9" H 3792 2896 50  0000 L CNN
F 1 "10u" H 3792 2805 50  0000 L CNN
F 2 "" H 3700 2850 50  0001 C CNN
F 3 "~" H 3700 2850 50  0001 C CNN
	1    3700 2850
	1    0    0    -1  
$EndComp
Wire Wire Line
	3700 2750 3700 2700
Wire Wire Line
	3700 2700 3350 2700
Wire Wire Line
	1250 2750 1250 2700
Wire Wire Line
	1600 2750 1600 2700
Connection ~ 1600 2700
Wire Wire Line
	1600 2700 1250 2700
Wire Wire Line
	1950 2750 1950 2700
Connection ~ 1950 2700
Wire Wire Line
	1950 2700 1600 2700
Wire Wire Line
	2300 2750 2300 2700
Connection ~ 2300 2700
Wire Wire Line
	2300 2700 1950 2700
Wire Wire Line
	2650 2750 2650 2700
Connection ~ 2650 2700
Wire Wire Line
	2650 2700 2300 2700
Wire Wire Line
	3000 2750 3000 2700
Connection ~ 3000 2700
Wire Wire Line
	3000 2700 2650 2700
Wire Wire Line
	3350 2750 3350 2700
Connection ~ 3350 2700
Wire Wire Line
	3350 2700 3000 2700
Wire Wire Line
	3700 3000 3700 2950
Wire Wire Line
	3350 2950 3350 3000
Connection ~ 3350 3000
Wire Wire Line
	3350 3000 3700 3000
Wire Wire Line
	3000 2950 3000 3000
Connection ~ 3000 3000
Wire Wire Line
	3000 3000 3350 3000
Wire Wire Line
	2650 2950 2650 3000
Connection ~ 2650 3000
Wire Wire Line
	2650 3000 3000 3000
Wire Wire Line
	2300 2950 2300 3000
Connection ~ 2300 3000
Wire Wire Line
	2300 3000 2650 3000
Wire Wire Line
	1950 2950 1950 3000
Connection ~ 1950 3000
Wire Wire Line
	1950 3000 2300 3000
Wire Wire Line
	1600 2950 1600 3000
Connection ~ 1600 3000
Wire Wire Line
	1600 3000 1950 3000
Wire Wire Line
	1250 2950 1250 3000
Wire Wire Line
	1250 3000 1600 3000
$Comp
L power:+3V3 #PWR09
U 1 1 619B12B5
P 3700 2700
F 0 "#PWR09" H 3700 2550 50  0001 C CNN
F 1 "+3V3" H 3715 2873 50  0000 C CNN
F 2 "" H 3700 2700 50  0001 C CNN
F 3 "" H 3700 2700 50  0001 C CNN
	1    3700 2700
	1    0    0    -1  
$EndComp
Connection ~ 1250 2700
Wire Wire Line
	1250 2700 900  2700
Wire Wire Line
	900  2700 900  2750
$Comp
L power:GND #PWR010
U 1 1 619B2039
P 3700 3000
F 0 "#PWR010" H 3700 2750 50  0001 C CNN
F 1 "GND" H 3705 2827 50  0000 C CNN
F 2 "" H 3700 3000 50  0001 C CNN
F 3 "" H 3700 3000 50  0001 C CNN
	1    3700 3000
	1    0    0    -1  
$EndComp
Connection ~ 1250 3000
Wire Wire Line
	900  3000 1250 3000
Wire Wire Line
	900  2950 900  3000
Connection ~ 3700 2700
Connection ~ 3700 3000
$Comp
L Device:C_Small C10
U 1 1 619CA465
P 1300 4400
F 0 "C10" H 1392 4446 50  0000 L CNN
F 1 "2.2u" H 1392 4355 50  0000 L CNN
F 2 "" H 1300 4400 50  0001 C CNN
F 3 "~" H 1300 4400 50  0001 C CNN
	1    1300 4400
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR03
U 1 1 619D0066
P 1300 4500
F 0 "#PWR03" H 1300 4250 50  0001 C CNN
F 1 "GND" H 1305 4327 50  0000 C CNN
F 2 "" H 1300 4500 50  0001 C CNN
F 3 "" H 1300 4500 50  0001 C CNN
	1    1300 4500
	1    0    0    -1  
$EndComp
Text Notes 850  4600 0    50   ~ 0
Internal\nvoltage\nregulator\nfiltering
$Comp
L Device:Crystal_GND24_Small HSE1
U 1 1 619D5B8C
P 5000 6700
F 0 "HSE1" H 4650 6900 50  0000 L CNN
F 1 "16MHz" H 4650 6800 50  0000 L CNN
F 2 "Crystal:Crystal_SMD_3225-4Pin_3.2x2.5mm" H 5000 6700 50  0001 C CNN
F 3 "~" H 5000 6700 50  0001 C CNN
	1    5000 6700
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR020
U 1 1 619D8425
P 5000 6950
F 0 "#PWR020" H 5000 6700 50  0001 C CNN
F 1 "GND" H 5005 6777 50  0000 C CNN
F 2 "" H 5000 6950 50  0001 C CNN
F 3 "" H 5000 6950 50  0001 C CNN
	1    5000 6950
	1    0    0    -1  
$EndComp
Text GLabel 5550 6700 2    50   Input ~ 0
HSE_OUT
$Comp
L Device:R_Small R10
U 1 1 619D92E6
P 5450 6700
F 0 "R10" V 5254 6700 50  0000 C CNN
F 1 "220" V 5345 6700 50  0000 C CNN
F 2 "" H 5450 6700 50  0001 C CNN
F 3 "~" H 5450 6700 50  0001 C CNN
	1    5450 6700
	0    1    1    0   
$EndComp
Wire Wire Line
	5350 6700 5300 6700
$Comp
L Device:C_Small C13
U 1 1 619DB81B
P 5300 6850
F 0 "C13" H 5392 6896 50  0000 L CNN
F 1 "12p" H 5392 6805 50  0000 L CNN
F 2 "" H 5300 6850 50  0001 C CNN
F 3 "~" H 5300 6850 50  0001 C CNN
	1    5300 6850
	1    0    0    -1  
$EndComp
Wire Wire Line
	5300 6750 5300 6700
Connection ~ 5300 6700
Wire Wire Line
	5000 6600 5000 6550
Wire Wire Line
	5000 6550 5150 6550
Wire Wire Line
	5150 6550 5150 6950
Wire Wire Line
	5150 6950 5000 6950
Wire Wire Line
	5100 6700 5300 6700
Wire Wire Line
	5150 6950 5300 6950
Connection ~ 5150 6950
Connection ~ 5000 6950
Wire Wire Line
	4700 6700 4900 6700
Connection ~ 4700 6700
Wire Wire Line
	4700 6750 4700 6700
Wire Wire Line
	4700 6950 5000 6950
Wire Wire Line
	4650 6700 4700 6700
$Comp
L Device:C_Small C12
U 1 1 619DBEC1
P 4700 6850
F 0 "C12" H 4450 6900 50  0000 L CNN
F 1 "12p" H 4450 6800 50  0000 L CNN
F 2 "" H 4700 6850 50  0001 C CNN
F 3 "~" H 4700 6850 50  0001 C CNN
	1    4700 6850
	1    0    0    -1  
$EndComp
Text GLabel 4650 6700 0    50   Input ~ 0
HSE_IN
Wire Wire Line
	5000 6800 5000 6950
Text Notes 4250 7450 0    50   ~ 0
Cl = 2 * (CLOAD_CRYSTAL - CPARASITIC)\n   = 2 * (9p - 2p)\n   = 14p ~~ 12p
Wire Notes Line
	6000 7500 4200 7500
Wire Notes Line
	4200 6400 6000 6400
Wire Notes Line
	4200 6400 4200 7500
Wire Notes Line
	6000 6400 6000 7500
Text Notes 4200 5150 0    50   ~ 0
ADC reference voltage filter\n
Text Notes 650  700  0    50   ~ 0
Input voltage regulator
Text Notes 4200 6350 0    50   ~ 0
"High" speed crystal oscillator
Text Notes 950  2650 0    50   ~ 0
Decoupling: 2x100u per VDD + 10u bulk close to chip
$Comp
L Connector_Generic:Conn_02x05_Odd_Even J3
U 1 1 61A3C8B7
P 8300 1800
F 0 "J3" H 8350 2100 50  0000 C CNN
F 1 "SWD/JTAG" H 8350 1500 50  0000 C CNN
F 2 "" H 8300 1800 50  0001 C CNN
F 3 "~" H 8300 1800 50  0001 C CNN
	1    8300 1800
	1    0    0    -1  
$EndComp
NoConn ~ 8600 1900
NoConn ~ 8100 1900
Text GLabel 8600 1800 2    50   Input ~ 0
SWO
Text GLabel 8600 1600 2    50   Input ~ 0
SWDIO
Text GLabel 8600 1700 2    50   Input ~ 0
SWCLK
Wire Wire Line
	8000 1700 8000 1800
Wire Wire Line
	8000 1700 8100 1700
Wire Wire Line
	8100 2000 8000 2000
Connection ~ 8000 2000
Wire Wire Line
	8100 1800 8000 1800
Connection ~ 8000 1800
Wire Wire Line
	8000 1800 8000 2000
Text GLabel 8600 2000 2    50   Input ~ 0
NRST
Wire Wire Line
	1000 5900 1000 6050
Wire Wire Line
	1150 5900 1000 5900
$Comp
L Device:LED_Small D3
U 1 1 61A9A358
P 1250 5900
F 0 "D3" H 1250 6135 50  0000 C CNN
F 1 "Red" H 1250 6044 50  0000 C CNN
F 2 "" V 1250 5900 50  0001 C CNN
F 3 "~" V 1250 5900 50  0001 C CNN
	1    1250 5900
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR02
U 1 1 61AA2A9A
P 1000 6250
F 0 "#PWR02" H 1000 6000 50  0001 C CNN
F 1 "GND" H 1005 6077 50  0000 C CNN
F 2 "" H 1000 6250 50  0001 C CNN
F 3 "" H 1000 6250 50  0001 C CNN
	1    1000 6250
	1    0    0    -1  
$EndComp
$Comp
L Device:R_Small R9
U 1 1 61A9637B
P 1000 6150
F 0 "R9" H 1059 6196 50  0000 L CNN
F 1 "10k" H 1059 6105 50  0000 L CNN
F 2 "" H 1000 6150 50  0001 C CNN
F 3 "~" H 1000 6150 50  0001 C CNN
	1    1000 6150
	1    0    0    -1  
$EndComp
$Comp
L Device:LED_Small D2
U 1 1 61ABD2B2
P 4650 1350
F 0 "D2" H 4650 1143 50  0000 C CNN
F 1 "Red" H 4650 1234 50  0000 C CNN
F 2 "" V 4650 1350 50  0001 C CNN
F 3 "~" V 4650 1350 50  0001 C CNN
	1    4650 1350
	-1   0    0    1   
$EndComp
$Comp
L Device:R_Small R2
U 1 1 61ABD2C6
P 4800 1550
F 0 "R2" H 4859 1596 50  0000 L CNN
F 1 "10k" H 4859 1505 50  0000 L CNN
F 2 "" H 4800 1550 50  0001 C CNN
F 3 "~" H 4800 1550 50  0001 C CNN
	1    4800 1550
	1    0    0    -1  
$EndComp
Wire Wire Line
	4750 1350 4800 1350
Wire Wire Line
	4800 1350 4800 1450
Wire Wire Line
	4800 1650 4800 1750
Wire Wire Line
	4800 1750 4200 1750
Connection ~ 4200 1750
Wire Wire Line
	1900 5900 1350 5900
Text GLabel 3300 4300 2    50   Input ~ 0
SPI1_MISO
Text GLabel 3300 4400 2    50   Input ~ 0
SPI1_MOSI
Text GLabel 3300 4200 2    50   Input ~ 0
SPI1_SCK
Text GLabel 3300 4100 2    50   Input ~ 0
SPI1_NSS
Text GLabel 3300 6000 2    50   Input ~ 0
I2C1_SCL
Text GLabel 3300 6100 2    50   Input ~ 0
I2C1_SDA
Text GLabel 3300 6400 2    50   Input ~ 0
I2C2_SCL
Text GLabel 3300 6500 2    50   Input ~ 0
I2C2_SDA
Text GLabel 1900 6000 0    50   Input ~ 0
USART6_TX
Text GLabel 1900 6100 0    50   Input ~ 0
USART6_RX
Wire Wire Line
	2500 7150 2500 7200
Wire Wire Line
	2600 7150 2500 7150
Connection ~ 2600 7150
Wire Wire Line
	2600 7100 2600 7150
Connection ~ 2500 7150
Wire Wire Line
	2700 7150 2600 7150
Wire Wire Line
	2700 7100 2700 7150
Wire Wire Line
	2500 7100 2500 7150
$Comp
L power:GND #PWR07
U 1 1 61A2A7A4
P 2500 7200
F 0 "#PWR07" H 2500 6950 50  0001 C CNN
F 1 "GND" H 2505 7027 50  0000 C CNN
F 2 "" H 2500 7200 50  0001 C CNN
F 3 "" H 2500 7200 50  0001 C CNN
	1    2500 7200
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR05
U 1 1 619D0B27
P 1650 4500
F 0 "#PWR05" H 1650 4250 50  0001 C CNN
F 1 "GND" H 1655 4327 50  0000 C CNN
F 2 "" H 1650 4500 50  0001 C CNN
F 3 "" H 1650 4500 50  0001 C CNN
	1    1650 4500
	1    0    0    -1  
$EndComp
Text GLabel 3300 5700 2    50   Input ~ 0
SWO
Text GLabel 3300 5100 2    50   Input ~ 0
SWCLK
Text GLabel 3300 5000 2    50   Input ~ 0
SWDIO
Text GLabel 1900 5000 0    50   Input ~ 0
HSE_OUT
Text GLabel 1900 4900 0    50   Input ~ 0
HSE_IN
Text GLabel 3300 5600 2    50   Input ~ 0
BOOT1
Text GLabel 1900 3900 0    50   Input ~ 0
BOOT0
Text GLabel 975  3700 0    50   Input ~ 0
NRST
Wire Wire Line
	1650 4200 1900 4200
Wire Wire Line
	1650 4300 1650 4200
Wire Wire Line
	1300 4100 1900 4100
$Comp
L Device:C_Small C11
U 1 1 619C9E84
P 1650 4400
F 0 "C11" H 1742 4446 50  0000 L CNN
F 1 "2.2u" H 1742 4355 50  0000 L CNN
F 2 "" H 1650 4400 50  0001 C CNN
F 3 "~" H 1650 4400 50  0001 C CNN
	1    1650 4400
	1    0    0    -1  
$EndComp
Wire Wire Line
	2900 3400 2900 3500
$Comp
L power:+3.3VA #PWR08
U 1 1 61983E43
P 2900 3400
F 0 "#PWR08" H 2900 3250 50  0001 C CNN
F 1 "+3.3VA" H 2915 3573 50  0000 C CNN
F 2 "" H 2900 3400 50  0001 C CNN
F 3 "" H 2900 3400 50  0001 C CNN
	1    2900 3400
	1    0    0    -1  
$EndComp
Connection ~ 2400 3450
Wire Wire Line
	2600 3450 2500 3450
Connection ~ 2600 3450
Wire Wire Line
	2600 3450 2600 3500
Wire Wire Line
	2500 3450 2400 3450
Connection ~ 2500 3450
Wire Wire Line
	2500 3450 2500 3500
Connection ~ 2700 3450
Wire Wire Line
	2400 3450 2400 3500
Wire Wire Line
	2700 3450 2600 3450
Wire Wire Line
	2700 3450 2700 3500
Wire Wire Line
	2800 3450 2700 3450
Wire Wire Line
	2800 3500 2800 3450
Wire Notes Line
	5050 2350 5050 750 
Wire Notes Line
	650  2350 5050 2350
$Comp
L MCU_ST_STM32F4:STM32F405RGTx U1
U 1 1 61902656
P 2600 5300
F 0 "U1" H 3150 7050 50  0000 C CNN
F 1 "STM32F405RGT6" H 3150 3550 50  0000 C CNN
F 2 "Package_QFP:LQFP-64_10x10mm_P0.5mm" H 2000 3600 50  0001 R CNN
F 3 "http://www.st.com/st-web-ui/static/active/en/resource/technical/document/datasheet/DM00037051.pdf" H 2600 5300 50  0001 C CNN
	1    2600 5300
	1    0    0    -1  
$EndComp
Wire Notes Line
	650  7500 4000 7500
Wire Notes Line
	4000 7500 4000 2450
Wire Notes Line
	4000 2450 650  2450
Wire Notes Line
	650  2450 650  7500
NoConn ~ 3300 6300
NoConn ~ 3300 6200
NoConn ~ 3300 5900
NoConn ~ 3300 5800
NoConn ~ 3300 5500
NoConn ~ 3300 5400
NoConn ~ 3300 5200
NoConn ~ 1900 6900
NoConn ~ 1900 6800
NoConn ~ 1900 6700
NoConn ~ 1900 6600
NoConn ~ 1900 6500
NoConn ~ 1900 6400
NoConn ~ 1900 6300
NoConn ~ 1900 6200
NoConn ~ 1900 5800
NoConn ~ 1900 5700
NoConn ~ 1900 5600
NoConn ~ 1900 5500
NoConn ~ 1900 5400
NoConn ~ 1900 5200
NoConn ~ 3300 4700
NoConn ~ 3300 4600
NoConn ~ 3300 4500
NoConn ~ 3300 4000
NoConn ~ 3300 3900
NoConn ~ 3300 3800
NoConn ~ 3300 3700
Text Notes 700  1750 0    50   ~ 0
Off when gate is high,\ni.e. supply polarity \nis reversed
Text GLabel 6850 1950 2    50   Input ~ 0
USART6_TX
Text GLabel 5750 1200 2    50   Input ~ 0
I2C1_SCL
Text GLabel 5750 1100 2    50   Input ~ 0
I2C1_SDA
$Comp
L Connector_Generic:Conn_01x04 J5
U 1 1 61C2CF63
P 5550 2000
F 0 "J5" H 5650 1900 50  0000 L CNN
F 1 "SPI1" H 5650 2000 50  0000 L CNN
F 2 "" H 5550 2000 50  0001 C CNN
F 3 "~" H 5550 2000 50  0001 C CNN
	1    5550 2000
	-1   0    0    1   
$EndComp
Text GLabel 5750 2100 2    50   Input ~ 0
SPI1_NSS
Text GLabel 5750 2000 2    50   Input ~ 0
SPI1_SCK
Text GLabel 5750 1900 2    50   Input ~ 0
SPI1_MISO
Text GLabel 5750 1800 2    50   Input ~ 0
SPI1_MOSI
Wire Notes Line
	7450 2350 7450 750 
Wire Notes Line
	5200 750  5200 2350
Text Notes 5200 700  0    50   ~ 0
Connectors
Wire Wire Line
	2400 3450 2400 3400
$Comp
L power:+3V3 #PWR06
U 1 1 61974FD8
P 2400 3400
F 0 "#PWR06" H 2400 3250 50  0001 C CNN
F 1 "+3V3" H 2415 3573 50  0000 C CNN
F 2 "" H 2400 3400 50  0001 C CNN
F 3 "" H 2400 3400 50  0001 C CNN
	1    2400 3400
	1    0    0    -1  
$EndComp
Wire Notes Line
	9350 750  9350 2350
Wire Notes Line
	5200 2350 9350 2350
Wire Notes Line
	5200 750  9350 750 
Wire Notes Line
	4950 2550 4950 3450
Text Notes 4200 2500 0    50   ~ 0
I2C data pullups
Wire Notes Line
	4200 3450 4200 2550
Wire Notes Line
	5650 3450 4200 3450
Wire Notes Line
	4200 2550 5650 2550
$Comp
L power:+3V3 #PWR012
U 1 1 61C20BF7
P 4350 2800
F 0 "#PWR012" H 4350 2650 50  0001 C CNN
F 1 "+3V3" H 4365 2973 50  0000 C CNN
F 2 "" H 4350 2800 50  0001 C CNN
F 3 "" H 4350 2800 50  0001 C CNN
	1    4350 2800
	1    0    0    -1  
$EndComp
Text GLabel 4350 3000 3    50   Input ~ 0
I2C1_SCL
$Comp
L Device:R_Small R3
U 1 1 61C15129
P 4350 2900
F 0 "R3" H 4409 2946 50  0000 L CNN
F 1 "2.2k" H 4409 2855 50  0000 L CNN
F 2 "" H 4350 2900 50  0001 C CNN
F 3 "~" H 4350 2900 50  0001 C CNN
	1    4350 2900
	1    0    0    -1  
$EndComp
Text GLabel 6850 1200 2    50   Input ~ 0
I2C2_SCL
Text GLabel 6850 1100 2    50   Input ~ 0
I2C2_SDA
$Comp
L Mechanical:MountingHole_Pad H3
U 1 1 61D58BCA
P 9950 1550
F 0 "H3" V 9904 1700 50  0000 L CNN
F 1 "MountingHole_Pad" V 9995 1700 50  0000 L CNN
F 2 "MountingHole:MountingHole_3mm_Pad_Via" H 9950 1550 50  0001 C CNN
F 3 "~" H 9950 1550 50  0001 C CNN
	1    9950 1550
	0    1    1    0   
$EndComp
$Comp
L Mechanical:MountingHole_Pad H4
U 1 1 61D59E0B
P 9950 1750
F 0 "H4" V 9904 1900 50  0000 L CNN
F 1 "MountingHole_Pad" V 9995 1900 50  0000 L CNN
F 2 "MountingHole:MountingHole_3mm_Pad_Via" H 9950 1750 50  0001 C CNN
F 3 "~" H 9950 1750 50  0001 C CNN
	1    9950 1750
	0    1    1    0   
$EndComp
$Comp
L Mechanical:MountingHole_Pad H2
U 1 1 61D5B66E
P 9950 1350
F 0 "H2" V 9904 1500 50  0000 L CNN
F 1 "MountingHole_Pad" V 9995 1500 50  0000 L CNN
F 2 "MountingHole:MountingHole_3mm_Pad_Via" H 9950 1350 50  0001 C CNN
F 3 "~" H 9950 1350 50  0001 C CNN
	1    9950 1350
	0    1    1    0   
$EndComp
$Comp
L Mechanical:MountingHole_Pad H1
U 1 1 61D5B849
P 9950 1150
F 0 "H1" V 9904 1300 50  0000 L CNN
F 1 "MountingHole_Pad" V 9995 1300 50  0000 L CNN
F 2 "MountingHole:MountingHole_3mm_Pad_Via" H 9950 1150 50  0001 C CNN
F 3 "~" H 9950 1150 50  0001 C CNN
	1    9950 1150
	0    1    1    0   
$EndComp
$Comp
L power:GND #PWR030
U 1 1 61D5BAC5
P 9800 1900
F 0 "#PWR030" H 9800 1650 50  0001 C CNN
F 1 "GND" H 9805 1727 50  0000 C CNN
F 2 "" H 9800 1900 50  0001 C CNN
F 3 "" H 9800 1900 50  0001 C CNN
	1    9800 1900
	1    0    0    -1  
$EndComp
Wire Wire Line
	9800 1900 9800 1750
Wire Wire Line
	9800 1150 9850 1150
Wire Wire Line
	9850 1350 9800 1350
Connection ~ 9800 1350
Wire Wire Line
	9800 1350 9800 1150
Wire Wire Line
	9850 1550 9800 1550
Connection ~ 9800 1550
Wire Wire Line
	9800 1550 9800 1350
Wire Wire Line
	9850 1750 9800 1750
Connection ~ 9800 1750
Wire Wire Line
	9800 1750 9800 1550
Wire Notes Line
	9550 750  11050 750 
Wire Notes Line
	11050 750  11050 2350
Wire Notes Line
	11050 2350 9550 2350
Wire Notes Line
	9550 2350 9550 750 
Text Notes 9550 700  0    50   ~ 0
Grounded mounting holes\n
Wire Wire Line
	3350 1350 3350 1450
Wire Wire Line
	3350 1650 3350 1750
Connection ~ 3350 1350
$Comp
L Device:C_Small C16
U 1 1 6195B580
P 3350 1550
F 0 "C16" H 3100 1600 50  0000 L CNN
F 1 "10u" H 3100 1500 50  0000 L CNN
F 2 "" H 3350 1550 50  0001 C CNN
F 3 "~" H 3350 1550 50  0001 C CNN
	1    3350 1550
	1    0    0    -1  
$EndComp
$Comp
L Connector_Generic:Conn_01x04 J6
U 1 1 61DAC74A
P 5550 1200
F 0 "J6" H 5650 1100 50  0000 L CNN
F 1 "I2C1" H 5650 1200 50  0000 L CNN
F 2 "" H 5550 1200 50  0001 C CNN
F 3 "~" H 5550 1200 50  0001 C CNN
	1    5550 1200
	-1   0    0    1   
$EndComp
$Comp
L Connector_Generic:Conn_01x04 J7
U 1 1 61DC0149
P 6650 1200
F 0 "J7" H 6750 1100 50  0000 L CNN
F 1 "I2C2" H 6750 1200 50  0000 L CNN
F 2 "" H 6650 1200 50  0001 C CNN
F 3 "~" H 6650 1200 50  0001 C CNN
	1    6650 1200
	-1   0    0    1   
$EndComp
$Comp
L Connector_Generic:Conn_01x04 J4
U 1 1 61DD83D6
P 6650 1950
F 0 "J4" H 6750 1850 50  0000 L CNN
F 1 "USART6" H 6750 1950 50  0000 L CNN
F 2 "" H 6650 1950 50  0001 C CNN
F 3 "~" H 6650 1950 50  0001 C CNN
	1    6650 1950
	-1   0    0    1   
$EndComp
Text GLabel 6850 1850 2    50   Input ~ 0
USART6_RX
$Comp
L power:+3V3 #PWR028
U 1 1 61D29C38
P 8700 1050
F 0 "#PWR028" H 8700 900 50  0001 C CNN
F 1 "+3V3" H 8715 1223 50  0000 C CNN
F 2 "" H 8700 1050 50  0001 C CNN
F 3 "" H 8700 1050 50  0001 C CNN
	1    8700 1050
	1    0    0    -1  
$EndComp
$Comp
L Connector_Generic:Conn_01x02 J2
U 1 1 61D2526B
P 8400 1150
F 0 "J2" H 8500 1050 50  0000 C CNN
F 1 "PWR OUT" H 8700 1150 50  0000 C CNN
F 2 "" H 8400 1150 50  0001 C CNN
F 3 "~" H 8400 1150 50  0001 C CNN
	1    8400 1150
	-1   0    0    1   
$EndComp
Wire Wire Line
	8600 1050 8700 1050
Wire Wire Line
	8600 1150 8700 1150
$Comp
L power:GND #PWR029
U 1 1 61D25255
P 8700 1150
F 0 "#PWR029" H 8700 900 50  0001 C CNN
F 1 "GND" H 8705 977 50  0000 C CNN
F 2 "" H 8700 1150 50  0001 C CNN
F 3 "" H 8700 1150 50  0001 C CNN
	1    8700 1150
	1    0    0    -1  
$EndComp
Wire Wire Line
	8000 2000 8000 2050
$Comp
L power:GND #PWR024
U 1 1 61A43965
P 8000 2050
F 0 "#PWR024" H 8000 1800 50  0001 C CNN
F 1 "GND" H 7850 2000 50  0000 C CNN
F 2 "" H 8000 2050 50  0001 C CNN
F 3 "" H 8000 2050 50  0001 C CNN
	1    8000 2050
	1    0    0    -1  
$EndComp
$Comp
L power:+3V3 #PWR031
U 1 1 61E54E72
P 6850 1000
F 0 "#PWR031" H 6850 850 50  0001 C CNN
F 1 "+3V3" H 7000 1100 50  0000 C CNN
F 2 "" H 6850 1000 50  0001 C CNN
F 3 "" H 6850 1000 50  0001 C CNN
	1    6850 1000
	1    0    0    -1  
$EndComp
$Comp
L power:+3V3 #PWR033
U 1 1 61E55F38
P 6850 1750
F 0 "#PWR033" H 6850 1600 50  0001 C CNN
F 1 "+3V3" H 7000 1850 50  0000 C CNN
F 2 "" H 6850 1750 50  0001 C CNN
F 3 "" H 6850 1750 50  0001 C CNN
	1    6850 1750
	1    0    0    -1  
$EndComp
$Comp
L power:+3V3 #PWR026
U 1 1 61DEB890
P 5750 1000
F 0 "#PWR026" H 5750 850 50  0001 C CNN
F 1 "+3V3" H 5900 1100 50  0000 C CNN
F 2 "" H 5750 1000 50  0001 C CNN
F 3 "" H 5750 1000 50  0001 C CNN
	1    5750 1000
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR034
U 1 1 61E565AA
P 6850 2050
F 0 "#PWR034" H 6850 1800 50  0001 C CNN
F 1 "GND" H 7000 2000 50  0000 C CNN
F 2 "" H 6850 2050 50  0001 C CNN
F 3 "" H 6850 2050 50  0001 C CNN
	1    6850 2050
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR032
U 1 1 61E55AA2
P 6850 1300
F 0 "#PWR032" H 6850 1050 50  0001 C CNN
F 1 "GND" H 7000 1250 50  0000 C CNN
F 2 "" H 6850 1300 50  0001 C CNN
F 3 "" H 6850 1300 50  0001 C CNN
	1    6850 1300
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR027
U 1 1 61E4FC1F
P 5750 1300
F 0 "#PWR027" H 5750 1050 50  0001 C CNN
F 1 "GND" H 5900 1250 50  0000 C CNN
F 2 "" H 5750 1300 50  0001 C CNN
F 3 "" H 5750 1300 50  0001 C CNN
	1    5750 1300
	1    0    0    -1  
$EndComp
Wire Wire Line
	8100 1600 8000 1600
$Comp
L power:+3V3 #PWR025
U 1 1 61A41135
P 8000 1600
F 0 "#PWR025" H 8000 1450 50  0001 C CNN
F 1 "+3V3" H 7750 1700 50  0000 L CNN
F 2 "" H 8000 1600 50  0001 C CNN
F 3 "" H 8000 1600 50  0001 C CNN
	1    8000 1600
	1    0    0    -1  
$EndComp
$Comp
L Power_Protection:USBLC6-2SC6 U3
U 1 1 61F1D48F
P 9650 3850
F 0 "U3" H 9900 4200 50  0000 C CNN
F 1 "USBLC6-2SC6" H 9950 3500 50  0000 C CNN
F 2 "Package_TO_SOT_SMD:SOT-23-6" H 9650 3350 50  0001 C CNN
F 3 "https://www.st.com/resource/en/datasheet/usblc6-2.pdf" H 9850 4200 50  0001 C CNN
	1    9650 3850
	1    0    0    -1  
$EndComp
Wire Wire Line
	950  1250 950  1350
Wire Wire Line
	4200 1350 4400 1350
Wire Wire Line
	4400 1100 4400 1350
Connection ~ 4400 1350
Wire Wire Line
	4400 1350 4550 1350
Text Notes 4400 1950 0    50   ~ 0
Power indicator\n\n
Text Notes 850  1050 0    50   ~ 0
USB in\n\n
Text Notes 4200 850  0    50   ~ 10
Main power rail
$Comp
L power:GND #PWR035
U 1 1 61F61B97
P 7050 4950
F 0 "#PWR035" H 7050 4700 50  0001 C CNN
F 1 "GND" H 7050 4800 50  0000 C CNN
F 2 "" H 7050 4950 50  0001 C CNN
F 3 "" H 7050 4950 50  0001 C CNN
	1    7050 4950
	1    0    0    -1  
$EndComp
NoConn ~ 6750 4650
Text GLabel 3300 4900 2    50   Input ~ 0
USB_D+
Text GLabel 3300 4800 2    50   Input ~ 0
USB_D-
Connection ~ 7650 3950
Connection ~ 7650 3750
Text GLabel 7700 3950 2    50   Input ~ 0
USB_CONN_D+
Text GLabel 7700 3750 2    50   Input ~ 0
USB_CONN_D-
Text GLabel 9250 3950 0    50   Input ~ 0
USB_CONN_D-
$Comp
L power:+5V #PWR038
U 1 1 61FA3FDE
P 9650 3450
F 0 "#PWR038" H 9650 3300 50  0001 C CNN
F 1 "+5V" H 9665 3623 50  0000 C CNN
F 2 "" H 9650 3450 50  0001 C CNN
F 3 "" H 9650 3450 50  0001 C CNN
	1    9650 3450
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR039
U 1 1 61FA474D
P 9650 4250
F 0 "#PWR039" H 9650 4000 50  0001 C CNN
F 1 "GND" H 9650 4100 50  0000 C CNN
F 2 "" H 9650 4250 50  0001 C CNN
F 3 "" H 9650 4250 50  0001 C CNN
	1    9650 4250
	1    0    0    -1  
$EndComp
Text GLabel 9250 3750 0    50   Input ~ 0
USB_D-
Text GLabel 10050 3750 2    50   Input ~ 0
USB_D+
Text GLabel 10050 3950 2    50   Input ~ 0
USB_CONN_D+
Text Notes 7300 5050 0    50   ~ 0
"Supporting Type-C from an existing USB2.0 design is straightforward and cheap \n(except for the connector). Basically you tie the DP pins together, tie the DM pins \ntogether, and add one pull-down resistor to each CC pin. This new Type-C device \nwill identify as a data and power sink, use the default USB2.0 power of 500 mA, \nand work in either orientation of the plug."
Wire Wire Line
	7650 3350 7700 3350
Wire Wire Line
	7650 3450 7700 3450
Wire Wire Line
	7900 3350 8300 3350
Wire Wire Line
	8300 3350 8300 3450
Wire Wire Line
	8300 3450 7900 3450
$Comp
L power:GND #PWR037
U 1 1 61FCA231
P 8300 3450
F 0 "#PWR037" H 8300 3200 50  0001 C CNN
F 1 "GND" H 8300 3300 50  0000 C CNN
F 2 "" H 8300 3450 50  0001 C CNN
F 3 "" H 8300 3450 50  0001 C CNN
	1    8300 3450
	1    0    0    -1  
$EndComp
Connection ~ 8300 3450
Wire Wire Line
	7700 3750 7650 3750
Wire Wire Line
	7650 3650 7650 3750
Wire Wire Line
	7700 3950 7650 3950
Wire Wire Line
	7650 3850 7650 3950
NoConn ~ 7650 4250
NoConn ~ 7650 4350
Text Notes 6150 4700 0    50   ~ 0
The shield is\ngrounded at \nthe host.
$Comp
L power:+5V #PWR036
U 1 1 61F5C05B
P 8300 3100
F 0 "#PWR036" H 8300 2950 50  0001 C CNN
F 1 "+5V" H 8315 3273 50  0000 C CNN
F 2 "" H 8300 3100 50  0001 C CNN
F 3 "" H 8300 3100 50  0001 C CNN
	1    8300 3100
	1    0    0    -1  
$EndComp
Wire Wire Line
	8300 3150 8300 3100
$Comp
L Device:R_Small R11
U 1 1 61FB8501
P 7800 3350
F 0 "R11" V 7750 3500 50  0000 C CNN
F 1 "5.1k" V 7700 3350 50  0000 C CNN
F 2 "" H 7800 3350 50  0001 C CNN
F 3 "~" H 7800 3350 50  0001 C CNN
	1    7800 3350
	0    1    1    0   
$EndComp
$Comp
L Connector:USB_C_Receptacle_USB2.0 J1
U 1 1 61DA89D1
P 7050 3750
F 0 "J1" H 7400 4500 50  0000 C CNN
F 1 "USB_C_Receptacle_USB2.0" H 7650 3000 50  0000 C CNN
F 2 "Connector_USB:USB_C_Receptacle_XKB_U262-16XN-4BVC11" H 7200 3750 50  0001 C CNN
F 3 "https://www.usb.org/sites/default/files/documents/usb_type-c.zip" H 7200 3750 50  0001 C CNN
	1    7050 3750
	1    0    0    -1  
$EndComp
Wire Notes Line
	6100 5200 6100 2750
Wire Notes Line
	6100 2750 10750 2750
Wire Notes Line
	10750 2750 10750 5200
Wire Notes Line
	10750 5200 6100 5200
Text Notes 6100 2700 0    50   ~ 0
USB-C (USB2.0)
$Comp
L Device:R_Small R6
U 1 1 61C15D39
P 5400 2900
F 0 "R6" H 5459 2946 50  0000 L CNN
F 1 "2.2k" H 5459 2855 50  0000 L CNN
F 2 "" H 5400 2900 50  0001 C CNN
F 3 "~" H 5400 2900 50  0001 C CNN
	1    5400 2900
	1    0    0    -1  
$EndComp
$Comp
L Device:R_Small R5
U 1 1 61C15D43
P 5100 2900
F 0 "R5" H 5159 2946 50  0000 L CNN
F 1 "2.2k" H 5159 2855 50  0000 L CNN
F 2 "" H 5100 2900 50  0001 C CNN
F 3 "~" H 5100 2900 50  0001 C CNN
	1    5100 2900
	1    0    0    -1  
$EndComp
Text GLabel 5100 3000 3    50   Input ~ 0
I2C2_SCL
Text GLabel 5400 3000 3    50   Input ~ 0
I2C2_SDA
$Comp
L power:+3V3 #PWR018
U 1 1 61C21E76
P 5100 2800
F 0 "#PWR018" H 5100 2650 50  0001 C CNN
F 1 "+3V3" H 5115 2973 50  0000 C CNN
F 2 "" H 5100 2800 50  0001 C CNN
F 3 "" H 5100 2800 50  0001 C CNN
	1    5100 2800
	1    0    0    -1  
$EndComp
$Comp
L power:+3V3 #PWR021
U 1 1 61C2221C
P 5400 2800
F 0 "#PWR021" H 5400 2650 50  0001 C CNN
F 1 "+3V3" H 5415 2973 50  0000 C CNN
F 2 "" H 5400 2800 50  0001 C CNN
F 3 "" H 5400 2800 50  0001 C CNN
	1    5400 2800
	1    0    0    -1  
$EndComp
Wire Notes Line
	5650 2550 5650 3450
$Comp
L power:+3V3 #PWR016
U 1 1 61C21B1C
P 4650 2800
F 0 "#PWR016" H 4650 2650 50  0001 C CNN
F 1 "+3V3" H 4665 2973 50  0000 C CNN
F 2 "" H 4650 2800 50  0001 C CNN
F 3 "" H 4650 2800 50  0001 C CNN
	1    4650 2800
	1    0    0    -1  
$EndComp
Text GLabel 4650 3000 3    50   Input ~ 0
I2C1_SDA
$Comp
L Device:R_Small R4
U 1 1 61C14C17
P 4650 2900
F 0 "R4" H 4709 2946 50  0000 L CNN
F 1 "2.2k" H 4709 2855 50  0000 L CNN
F 2 "" H 4650 2900 50  0001 C CNN
F 3 "~" H 4650 2900 50  0001 C CNN
	1    4650 2900
	1    0    0    -1  
$EndComp
$Comp
L Device:R_Small R12
U 1 1 61FB9709
P 7800 3450
F 0 "R12" V 7850 3600 50  0000 C CNN
F 1 "5.1k" V 7900 3450 50  0000 C CNN
F 2 "" H 7800 3450 50  0001 C CNN
F 3 "~" H 7800 3450 50  0001 C CNN
	1    7800 3450
	0    1    1    0   
$EndComp
Text Notes 7750 4400 0    50   ~ 0
USB2.0 cables don't\nconnect to SBU, so \nwe can leave it floating.
Text Notes 9100 3150 0    50   ~ 0
Push spikes >5V up the ladder \nand shunt down to ground.\n(at least I think that's how it works)
Wire Wire Line
	1300 4100 1300 4300
$Comp
L power:+5V #PWR0101
U 1 1 62154291
P 950 1250
F 0 "#PWR0101" H 950 1100 50  0001 C CNN
F 1 "+5V" H 965 1423 50  0000 C CNN
F 2 "" H 950 1250 50  0001 C CNN
F 3 "" H 950 1250 50  0001 C CNN
	1    950  1250
	1    0    0    -1  
$EndComp
Wire Wire Line
	3350 1350 3500 1350
Wire Wire Line
	1600 1650 1600 1750
Wire Wire Line
	2000 1650 1600 1650
Wire Wire Line
	2000 1350 1800 1350
$Comp
L Device:D_Zener_Small D1
U 1 1 61943D90
P 2000 1500
F 0 "D1" V 1954 1570 50  0000 L CNN
F 1 "ZMM5V6" V 2045 1570 50  0000 L CNN
F 2 "" V 2000 1500 50  0001 C CNN
F 3 "~" V 2000 1500 50  0001 C CNN
	1    2000 1500
	0    1    1    0   
$EndComp
Wire Wire Line
	3100 1350 3350 1350
$Comp
L Device:Ferrite_Bead_Small FB1
U 1 1 619351E4
P 3000 1350
F 0 "FB1" V 2763 1350 50  0000 C CNN
F 1 "100 @ 100 MHz" V 2854 1350 50  0000 C CNN
F 2 "" V 2930 1350 50  0001 C CNN
F 3 "~" H 3000 1350 50  0001 C CNN
	1    3000 1350
	0    1    1    0   
$EndComp
Wire Wire Line
	950  1350 1400 1350
Wire Wire Line
	2000 1350 2300 1350
$Comp
L Device:Fuse_Small F1
U 1 1 61935A18
P 2400 1350
F 0 "F1" H 2400 1535 50  0000 C CNN
F 1 "500mA" H 2400 1444 50  0000 C CNN
F 2 "" H 2400 1350 50  0001 C CNN
F 3 "~" H 2400 1350 50  0001 C CNN
	1    2400 1350
	1    0    0    -1  
$EndComp
$Comp
L Device:Q_PMOS_SGD Q1
U 1 1 61942650
P 1600 1450
F 0 "Q1" V 1942 1450 50  0000 C CNN
F 1 "Si2301CDS" V 1851 1450 50  0000 C CNN
F 2 "" H 1800 1550 50  0001 C CNN
F 3 "~" H 1600 1450 50  0001 C CNN
	1    1600 1450
	0    -1   -1   0   
$EndComp
Wire Wire Line
	3350 1750 3800 1750
Wire Wire Line
	7650 3150 8300 3150
Wire Wire Line
	7050 4650 7050 4950
Wire Wire Line
	5350 5500 5350 5600
Wire Wire Line
	2500 1350 2900 1350
$Comp
L Memory_Flash:W25Q128JVS U?
U 1 1 61978862
P 9575 6200
F 0 "U?" H 9925 6550 50  0000 C CNN
F 1 "W25Q128JVS" H 9875 5850 50  0000 C CNN
F 2 "Package_SO:SOIC-8_5.23x5.23mm_P1.27mm" H 9575 6200 50  0001 C CNN
F 3 "http://www.winbond.com/resource-files/w25q128jv_dtr%20revc%2003272018%20plus.pdf" H 9575 6200 50  0001 C CNN
	1    9575 6200
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR?
U 1 1 6197D247
P 9575 6600
F 0 "#PWR?" H 9575 6350 50  0001 C CNN
F 1 "GND" H 9575 6450 50  0000 C CNN
F 2 "" H 9575 6600 50  0001 C CNN
F 3 "" H 9575 6600 50  0001 C CNN
	1    9575 6600
	1    0    0    -1  
$EndComp
$Comp
L power:+3V3 #PWR?
U 1 1 6197DBCF
P 9575 5800
F 0 "#PWR?" H 9575 5650 50  0001 C CNN
F 1 "+3V3" H 9590 5973 50  0000 C CNN
F 2 "" H 9575 5800 50  0001 C CNN
F 3 "" H 9575 5800 50  0001 C CNN
	1    9575 5800
	1    0    0    -1  
$EndComp
Text GLabel 9075 6100 0    50   Input ~ 0
FLASH_CS
Text GLabel 9075 6300 0    50   Input ~ 0
FLASH_SCK
Text GLabel 10075 6000 2    50   Input ~ 0
FLASH_MOSI
Text GLabel 10075 6100 2    50   Input ~ 0
FLASH_MISO
Text Notes 10500 6550 0    50   ~ 0
Quad\nSPI\nnot\nused
$Comp
L Device:R_Small R?
U 1 1 6199EE81
P 10275 6300
F 0 "R?" V 10425 6125 50  0000 L CNN
F 1 "10k" V 10200 6225 50  0000 L CNN
F 2 "" H 10275 6300 50  0001 C CNN
F 3 "~" H 10275 6300 50  0001 C CNN
	1    10275 6300
	0    1    1    0   
$EndComp
Wire Wire Line
	10075 6300 10175 6300
$Comp
L power:GND #PWR?
U 1 1 619AB58F
P 10425 6500
F 0 "#PWR?" H 10425 6250 50  0001 C CNN
F 1 "GND" H 10425 6350 50  0000 C CNN
F 2 "" H 10425 6500 50  0001 C CNN
F 3 "" H 10425 6500 50  0001 C CNN
	1    10425 6500
	1    0    0    -1  
$EndComp
$Comp
L Device:R_Small R?
U 1 1 6199FF9F
P 10275 6400
F 0 "R?" V 10425 6475 50  0000 L CNN
F 1 "10k" V 10200 6325 50  0000 L CNN
F 2 "" H 10275 6400 50  0001 C CNN
F 3 "~" H 10275 6400 50  0001 C CNN
	1    10275 6400
	0    -1   -1   0   
$EndComp
Wire Wire Line
	10375 6300 10425 6300
Wire Wire Line
	10425 6300 10425 6400
Wire Wire Line
	10375 6400 10425 6400
Connection ~ 10425 6400
Wire Wire Line
	10425 6400 10425 6500
Wire Wire Line
	10175 6400 10075 6400
Wire Notes Line
	10750 5550 10750 6850
Wire Notes Line
	8175 6850 8175 5550
Text Notes 8175 5500 0    50   ~ 0
SPI Flash
$Comp
L Device:C_Small C?
U 1 1 61AF45B0
P 1100 3800
F 0 "C?" H 1192 3846 50  0000 L CNN
F 1 "0.1u" H 1192 3755 50  0000 L CNN
F 2 "" H 1100 3800 50  0001 C CNN
F 3 "~" H 1100 3800 50  0001 C CNN
	1    1100 3800
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR?
U 1 1 61AF5A11
P 1100 3900
F 0 "#PWR?" H 1100 3650 50  0001 C CNN
F 1 "GND" H 1105 3727 50  0000 C CNN
F 2 "" H 1100 3900 50  0001 C CNN
F 3 "" H 1100 3900 50  0001 C CNN
	1    1100 3900
	1    0    0    -1  
$EndComp
Wire Wire Line
	975  3700 1100 3700
Wire Wire Line
	1100 3700 1900 3700
Connection ~ 1100 3700
$Comp
L Device:R_Small R?
U 1 1 61A35740
P 4725 4300
F 0 "R?" V 4675 4375 50  0000 L CNN
F 1 "10k" V 4650 4225 50  0000 L CNN
F 2 "" H 4725 4300 50  0001 C CNN
F 3 "~" H 4725 4300 50  0001 C CNN
	1    4725 4300
	0    1    1    0   
$EndComp
$Comp
L Device:R_Small R?
U 1 1 61A36472
P 4725 4100
F 0 "R?" V 4675 4175 50  0000 L CNN
F 1 "10k" V 4650 4025 50  0000 L CNN
F 2 "" H 4725 4100 50  0001 C CNN
F 3 "~" H 4725 4100 50  0001 C CNN
	1    4725 4100
	0    1    1    0   
$EndComp
$Comp
L power:+3V3 #PWR?
U 1 1 61A366F8
P 4500 4100
F 0 "#PWR?" H 4500 3950 50  0001 C CNN
F 1 "+3V3" H 4350 4125 50  0000 C CNN
F 2 "" H 4500 4100 50  0001 C CNN
F 3 "" H 4500 4100 50  0001 C CNN
	1    4500 4100
	1    0    0    -1  
$EndComp
Wire Wire Line
	4500 4100 4625 4100
Text GLabel 5225 4200 2    50   Input ~ 0
BOOT0
Wire Wire Line
	4500 4300 4625 4300
$Comp
L power:GND #PWR?
U 1 1 61AE78B5
P 4450 4800
F 0 "#PWR?" H 4450 4550 50  0001 C CNN
F 1 "GND" H 4550 4800 50  0000 C CNN
F 2 "" H 4450 4800 50  0001 C CNN
F 3 "" H 4450 4800 50  0001 C CNN
	1    4450 4800
	-1   0    0    -1  
$EndComp
$Comp
L power:GND #PWR?
U 1 1 61B95CAA
P 4500 4300
F 0 "#PWR?" H 4500 4050 50  0001 C CNN
F 1 "GND" H 4400 4300 50  0000 C CNN
F 2 "" H 4500 4300 50  0001 C CNN
F 3 "" H 4500 4300 50  0001 C CNN
	1    4500 4300
	1    0    0    -1  
$EndComp
Wire Wire Line
	4600 4800 4450 4800
Text GLabel 5200 4700 2    50   Input ~ 0
NRST
$Comp
L Device:R_Small R?
U 1 1 61AD55FB
P 4700 4800
F 0 "R?" V 4750 4900 50  0000 L CNN
F 1 "10k" V 4775 4725 50  0000 L CNN
F 2 "" H 4700 4800 50  0001 C CNN
F 3 "~" H 4700 4800 50  0001 C CNN
	1    4700 4800
	0    1    -1   0   
$EndComp
$Comp
L Device:R_Small R?
U 1 1 61AD55F5
P 4700 4600
F 0 "R?" V 4750 4700 50  0000 L CNN
F 1 "10k" V 4775 4525 50  0000 L CNN
F 2 "" H 4700 4600 50  0001 C CNN
F 3 "~" H 4700 4600 50  0001 C CNN
	1    4700 4600
	0    1    -1   0   
$EndComp
Wire Wire Line
	4600 4600 4450 4600
NoConn ~ 4450 4600
Wire Notes Line
	4200 3650 5950 3650
Wire Notes Line
	5950 4950 4200 4950
Text Notes 4200 3600 0    50   ~ 0
Boot mode selection\n
Text GLabel 5215 3800 2    50   Input ~ 0
BOOT1
$Comp
L Device:R_Small R8
U 1 1 61A1B70C
P 5115 3800
F 0 "R8" V 5190 3750 50  0000 L CNN
F 1 "10k" V 5040 3725 50  0000 L CNN
F 2 "" H 5115 3800 50  0001 C CNN
F 3 "~" H 5115 3800 50  0001 C CNN
	1    5115 3800
	0    1    1    0   
$EndComp
$Comp
L power:GND #PWR017
U 1 1 61A1CBA1
P 5015 3800
F 0 "#PWR017" H 5015 3550 50  0001 C CNN
F 1 "GND" H 5020 3627 50  0000 C CNN
F 2 "" H 5015 3800 50  0001 C CNN
F 3 "" H 5015 3800 50  0001 C CNN
	1    5015 3800
	0    1    1    0   
$EndComp
Wire Notes Line
	4200 3650 4200 4950
Wire Notes Line
	4200 3950 5950 3950
Wire Notes Line
	4200 4450 5950 4450
Wire Notes Line
	5950 3650 5950 4950
$Comp
L Switch:SW_Push_SPDT SW?
U 1 1 61AD55EF
P 5000 4700
F 0 "SW?" H 4950 4550 50  0000 C CNN
F 1 "NRST Momentary" H 4375 4500 50  0000 C CNN
F 2 "" H 5000 4700 50  0001 C CNN
F 3 "~" H 5000 4700 50  0001 C CNN
	1    5000 4700
	-1   0    0    -1  
$EndComp
$Comp
L Switch:SW_Push_SPDT SW?
U 1 1 61A27228
P 5025 4200
F 0 "SW?" H 4950 4075 50  0000 C CNN
F 1 "BOOT0 Momentary" H 4450 4400 50  0000 C CNN
F 2 "" H 5025 4200 50  0001 C CNN
F 3 "~" H 5025 4200 50  0001 C CNN
	1    5025 4200
	-1   0    0    1   
$EndComp
Text Notes 8100 2850 0    50   ~ 0
Power supply
Text Notes 1000 3650 0    50   ~ 0
(internal pullup)
Text GLabel 3300 6600 2    50   Input ~ 0
FLASH_CS
Text GLabel 3300 6700 2    50   Input ~ 0
FLASH_SCK
Text GLabel 3300 6900 2    50   Input ~ 0
FLASH_MOSI
Text GLabel 3300 6800 2    50   Input ~ 0
FLASH_MISO
$Comp
L Device:C_Small C?
U 1 1 61C94AC0
P 8675 5875
F 0 "C?" V 8625 5925 50  0000 L CNN
F 1 "4.7u" V 8625 5675 50  0000 L CNN
F 2 "Capacitor_SMD:C_0805_2012Metric" H 8675 5875 50  0001 C CNN
F 3 "~" H 8675 5875 50  0001 C CNN
	1    8675 5875
	0    -1   -1   0   
$EndComp
$Comp
L Device:C_Small C?
U 1 1 61C94F32
P 8675 5725
F 0 "C?" V 8725 5775 50  0000 L CNN
F 1 "0.1u" V 8725 5525 50  0000 L CNN
F 2 "Capacitor_SMD:C_0603_1608Metric" H 8675 5725 50  0001 C CNN
F 3 "~" H 8675 5725 50  0001 C CNN
	1    8675 5725
	0    -1   -1   0   
$EndComp
Wire Wire Line
	8775 5725 8775 5800
Wire Wire Line
	8775 5800 9575 5800
Connection ~ 8775 5800
Wire Wire Line
	8775 5800 8775 5875
Connection ~ 9575 5800
Wire Wire Line
	8575 5725 8575 5800
Wire Wire Line
	8575 5800 8400 5800
Wire Wire Line
	8400 5800 8400 5875
$Comp
L power:GND #PWR?
U 1 1 61D1E8BF
P 8400 5875
F 0 "#PWR?" H 8400 5625 50  0001 C CNN
F 1 "GND" H 8400 5725 50  0000 C CNN
F 2 "" H 8400 5875 50  0001 C CNN
F 3 "" H 8400 5875 50  0001 C CNN
	1    8400 5875
	1    0    0    -1  
$EndComp
Wire Wire Line
	8575 5800 8575 5875
Connection ~ 8575 5800
Wire Notes Line
	10750 6850 8175 6850
Wire Notes Line
	10750 5550 8175 5550
$Comp
L Connector:Micro_SD_Card J?
U 1 1 61D6097F
P 7150 6150
F 0 "J?" H 7100 6867 50  0000 C CNN
F 1 "Micro_SD_Card" H 7100 6776 50  0000 C CNN
F 2 "" H 8300 6450 50  0001 C CNN
F 3 "http://katalog.we-online.de/em/datasheet/693072010801.pdf" H 7150 6150 50  0001 C CNN
	1    7150 6150
	1    0    0    -1  
$EndComp
$EndSCHEMATC
